---
import BaseLayout from '@/layouts/BaseLayout.astro';
import { getTranslatedProjects, ProjectsScreen } from '@/features/projects';
import { ui, type LanguageCode, defaultLanguage, languages } from '@/i18n/ui';

// Set lang to 'en' and remove any logic for French/fr
const lang = 'en';

const t = ui[lang] as (typeof ui)[typeof defaultLanguage];
const projects = getTranslatedProjects(lang);

// Fix: Ensure projectsPageTranslations is typed correctly
const projectsPageTranslations = t.projectsPage as { title: string; metaTitle?: string; metaDescription?: string; noProjects?: string; noProjectsDescription?: string };
const metaTitle = projectsPageTranslations.metaTitle ?? projectsPageTranslations.title ?? 'Mes Projets';
const metaDescription = projectsPageTranslations.metaDescription ?? 'Liste de tous mes projets.';
---

<BaseLayout pageTitle={metaTitle} pageDescription={metaDescription}>
  <ProjectsScreen projects={projects} lang={lang} />
</BaseLayout>
