---import BaseLayout from '@/layouts/BaseLayout.astro';
import { ui, defaultLanguage, type LanguageCode } from '@/i18n/ui';
import {
  PortfolioScreen,
  getTranslatedProjects,
  getTranslatedSkills,
  type TranslatedSkill,
  type TranslatedProject,
} from '@/features/projects';

// Set lang to 'en' and remove any logic for French/fr
const lang = 'en';
const t = (key: keyof typeof ui[typeof lang]['homePage']) => ui[lang]?.homePage?.[key] ?? '';

const pageTitle = ui[lang]?.indexPage?.pageTitle ?? 'Home';
const pageDescription = ui[lang]?.indexPage?.description ?? '';

const projects: Array<TranslatedProject> = getTranslatedProjects(lang);
const skills: Array<TranslatedSkill> = getTranslatedSkills(lang);

const layoutProps = {
  lang,
  projects,
  skills,
  heroGreeting: t('heroGreeting'),
  heroSubtitlePart1: t('heroSubtitlePart1'),
  heroSubtitlePart2: t('heroSubtitlePart2'),
  heroIntroduction: t('heroIntroduction'),
  heroViewWorkButton: t('heroViewWorkButton'),
  heroContactButton: t('heroContactButton'),
  imageNotAvailable: t('imageNotAvailable'),
  featuredProjectsTitle: t('featuredProjectsTitle'),
  featuredProjectsDescription: t('featuredProjectsDescription'),
  mySkillsTitle: t('mySkillsTitle'),
  mySkillsDescription: t('mySkillsDescription'),
  projectPreviewCtaText: t('projectCardViewProject'),
};
---

<BaseLayout pageTitle={pageTitle} pageDescription={pageDescription}>
  <PortfolioScreen {...layoutProps} />
</BaseLayout>
